# âœ… TEST CHECKLIST - TÃNH NÄ‚NG Sá»¬A VÃ€ XÃ“A Há»¢P Äá»’NG

**NgÃ y táº¡o:** 21/11/2025  
**Má»¥c Ä‘Ã­ch:** Kiá»ƒm tra logic sá»­a vÃ  xÃ³a há»£p Ä‘á»“ng sau khi fix bugs

---

## ğŸ“‹ HÆ¯á»šNG DáºªN TEST

### **Chuáº©n bá»‹:**
1. Má»Ÿ á»©ng dá»¥ng web
2. ÄÄƒng nháº­p vá»›i tÃ i khoáº£n cÃ³ quyá»n quáº£n lÃ½ há»£p Ä‘á»“ng
3. VÃ o module **Quáº£n lÃ½ Há»£p Ä‘á»“ng**
4. Chuáº©n bá»‹ sheet Google Ä‘á»ƒ xem dá»¯ liá»‡u thá»±c táº¿

---

## ğŸ§ª TEST CASE 1: Sá»¬A Há»¢P Äá»’NG Há»˜I VIÃŠN

### **BÆ°á»›c 1: Táº¡o há»£p Ä‘á»“ng má»›i Ä‘á»ƒ test**
- [ ] Click "Táº¡o há»£p Ä‘á»“ng má»›i"
- [ ] Chá»n loáº¡i: **Há»™i viÃªn**
- [ ] Chá»n há»™i viÃªn báº¥t ká»³
- [ ] Chá»n gÃ³i táº­p báº¥t ká»³
- [ ] Äiá»n Ä‘áº§y Ä‘á»§ thÃ´ng tin: sá»‘ lÆ°á»£ng, ngÃ y báº¯t Ä‘áº§u, etc.
- [ ] Click "LÆ°u"
- [ ] **Káº¿t quáº£ mong Ä‘á»£i:** Há»£p Ä‘á»“ng Ä‘Æ°á»£c táº¡o thÃ nh cÃ´ng

### **BÆ°á»›c 2: Sá»­a há»£p Ä‘á»“ng vá»«a táº¡o**
- [ ] Click nÃºt "âœï¸ Sá»­a" trÃªn há»£p Ä‘á»“ng vá»«a táº¡o
- [ ] **Kiá»ƒm tra:** Modal hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin
- [ ] **Kiá»ƒm tra:** Loáº¡i há»£p Ä‘á»“ng "Há»™i viÃªn" Ä‘Æ°á»£c chá»n Ä‘Ãºng
- [ ] **Kiá»ƒm tra:** Dropdown há»™i viÃªn cÃ³ giÃ¡ trá»‹ Ä‘Ãºng
- [ ] **Kiá»ƒm tra:** GÃ³i táº­p Ä‘Æ°á»£c chá»n Ä‘Ãºng
- [ ] **Kiá»ƒm tra:** CÃ¡c trÆ°á»ng giÃ¡, VAT, thá»i háº¡n hiá»ƒn thá»‹ Ä‘Ãºng

### **BÆ°á»›c 3: Thay Ä‘á»•i thÃ´ng tin**
Thay Ä‘á»•i cÃ¡c thÃ´ng tin sau:
- [ ] ÄÆ¡n giÃ¡: Sá»­a tá»« `1000000` â†’ `1500000`
- [ ] VAT: Sá»­a tá»« `10%` â†’ `8%`
- [ ] Chiáº¿t kháº¥u: ThÃªm/sá»­a giÃ¡ trá»‹
- [ ] Sá»‘ Ä‘iá»‡n thoáº¡i: Sá»­a sá»‘ má»›i
- [ ] Email: Sá»­a email má»›i
- [ ] CCCD: Sá»­a sá»‘ CCCD má»›i
- [ ] Äá»‹a chá»‰: Sá»­a Ä‘á»‹a chá»‰ má»›i
- [ ] TÃ¬nh tráº¡ng: Äá»•i tá»« "Äang hiá»‡u lá»±c" â†’ "Háº¿t háº¡n"
- [ ] Click "Cáº­p nháº­t"
- [ ] **Káº¿t quáº£ mong Ä‘á»£i:** ThÃ´ng bÃ¡o "Cáº­p nháº­t há»£p Ä‘á»“ng thÃ nh cÃ´ng!"

### **BÆ°á»›c 4: Kiá»ƒm tra dá»¯ liá»‡u Ä‘Ã£ lÆ°u**
- [ ] Má»Ÿ Google Sheet `hop_dong`
- [ ] TÃ¬m dÃ²ng há»£p Ä‘á»“ng vá»«a sá»­a
- [ ] **Kiá»ƒm tra:** Cá»™t `don_gia` = `1500000` âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `vat` = `8` âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `so_dien_thoai` Ä‘Ã£ Ä‘á»•i âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `email` Ä‘Ã£ Ä‘á»•i âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `cccd` Ä‘Ã£ Ä‘á»•i âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `dia_chi` Ä‘Ã£ Ä‘á»•i âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `tinh_trang` = "Háº¿t háº¡n" âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `nguoi_cap_nhat` cÃ³ email cá»§a báº¡n âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `thoi_gian_cap_nhat` cÃ³ timestamp hiá»‡n táº¡i âœ…

### **BÆ°á»›c 5: In há»£p Ä‘á»“ng Ä‘á»ƒ kiá»ƒm tra**
- [ ] Click nÃºt "ğŸ–¨ï¸ In" trÃªn há»£p Ä‘á»“ng vá»«a sá»­a
- [ ] **Kiá»ƒm tra:** File PDF/HTML hiá»ƒn thá»‹ Ä‘Ãºng Ä‘Æ¡n giÃ¡ `1500000` âœ…
- [ ] **Kiá»ƒm tra:** VAT hiá»ƒn thá»‹ Ä‘Ãºng `8%` âœ…
- [ ] **Kiá»ƒm tra:** ThÃ´ng tin cÃ¡ nhÃ¢n (SÄT, email, CCCD) hiá»ƒn thá»‹ Ä‘Ãºng âœ…

---

## ğŸ§ª TEST CASE 2: Sá»¬A Há»¢P Äá»’NG PT

### **BÆ°á»›c 1: Táº¡o há»£p Ä‘á»“ng PT**
- [ ] Click "Táº¡o há»£p Ä‘á»“ng má»›i"
- [ ] Chá»n loáº¡i: **PT**
- [ ] Chá»n PT báº¥t ká»³
- [ ] Chá»n gÃ³i táº­p PT
- [ ] Äiá»n Ä‘áº§y Ä‘á»§ thÃ´ng tin
- [ ] Click "LÆ°u"

### **BÆ°á»›c 2: Sá»­a há»£p Ä‘á»“ng PT**
- [ ] Click "âœï¸ Sá»­a"
- [ ] **Kiá»ƒm tra:** Loáº¡i há»£p Ä‘á»“ng "PT" Ä‘Æ°á»£c chá»n Ä‘Ãºng
- [ ] **Kiá»ƒm tra:** Dropdown PT cÃ³ giÃ¡ trá»‹ Ä‘Ãºng
- [ ] Sá»­a Ä‘Æ¡n giÃ¡ tá»« `2000000` â†’ `2500000`
- [ ] Sá»­a thá»i háº¡n
- [ ] Click "Cáº­p nháº­t"

### **BÆ°á»›c 3: Kiá»ƒm tra dá»¯ liá»‡u**
- [ ] Má»Ÿ Google Sheet `hop_dong`
- [ ] **Kiá»ƒm tra:** Cá»™t `gia_tri` = `2500000` âœ… (VÃ¬ lÃ  há»£p Ä‘á»“ng PT)
- [ ] **Kiá»ƒm tra:** Cá»™t `don_gia` = trá»‘ng âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `loai_hop_dong` = "PT" âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `nguoi_cap_nhat` cÃ³ email âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `thoi_gian_cap_nhat` cÃ³ timestamp âœ…

---

## ğŸ§ª TEST CASE 3: XÃ“A Há»¢P Äá»’NG

### **BÆ°á»›c 1: XÃ³a há»£p Ä‘á»“ng bÃ¬nh thÆ°á»ng**
- [ ] Chá»n má»™t há»£p Ä‘á»“ng báº¥t ká»³
- [ ] Click nÃºt "ğŸ—‘ï¸ XÃ³a"
- [ ] **Kiá»ƒm tra:** Dialog confirm xuáº¥t hiá»‡n "Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a há»£p Ä‘á»“ng nÃ y?"
- [ ] Click "OK"
- [ ] **Káº¿t quáº£ mong Ä‘á»£i:** ThÃ´ng bÃ¡o "XÃ³a há»£p Ä‘á»“ng thÃ nh cÃ´ng!"
- [ ] **Kiá»ƒm tra:** Há»£p Ä‘á»“ng biáº¿n máº¥t khá»i danh sÃ¡ch âœ…

### **BÆ°á»›c 2: Kiá»ƒm tra soft delete trong sheet**
- [ ] Má»Ÿ Google Sheet `hop_dong`
- [ ] TÃ¬m dÃ²ng há»£p Ä‘á»“ng vá»«a xÃ³a
- [ ] **Kiá»ƒm tra:** Cá»™t `IsDeleted` = "YES" âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `nguoi_xoa` cÃ³ email cá»§a báº¡n âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `thoi_gian_xoa` cÃ³ timestamp âœ…
- [ ] **Kiá»ƒm tra:** Dá»¯ liá»‡u khÃ¡c váº«n cÃ²n nguyÃªn (khÃ´ng bá»‹ xÃ³a tháº­t) âœ…

---

## ğŸ§ª TEST CASE 4: EDGE CASES (KIá»‚M TRA Xá»¬ LÃ Lá»–I)

### **Test 4.1: Thá»­ sá»­a há»£p Ä‘á»“ng Ä‘Ã£ bá»‹ xÃ³a**
- [ ] VÃ o Google Sheet, copy ID cá»§a há»£p Ä‘á»“ng Ä‘Ã£ xÃ³a (IsDeleted = "YES")
- [ ] Thá»­ gá»i function `getContractByRow(rowNumber)` vá»›i rowNumber cá»§a há»£p Ä‘á»“ng Ä‘Ã£ xÃ³a
- [ ] **Káº¿t quáº£ mong Ä‘á»£i:** KhÃ´ng cho phÃ©p load, hoáº·c hiá»ƒn thá»‹ cáº£nh bÃ¡o

### **Test 4.2: Thá»­ xÃ³a há»£p Ä‘á»“ng Ä‘Ã£ bá»‹ xÃ³a rá»“i**
- [ ] TÃ¬m há»£p Ä‘á»“ng cÃ³ `IsDeleted = "YES"`
- [ ] Temporary bá» filter (náº¿u cÃ³) Ä‘á»ƒ tháº¥y há»£p Ä‘á»“ng Ä‘Ã£ xÃ³a
- [ ] Thá»­ click xÃ³a láº¡i láº§n ná»¯a
- [ ] **Káº¿t quáº£ mong Ä‘á»£i:** BÃ¡o lá»—i "Há»£p Ä‘á»“ng nÃ y Ä‘Ã£ bá»‹ xÃ³a trÆ°á»›c Ä‘Ã³."

### **Test 4.3: Thá»­ sá»­a vá»›i sá»‘ lÆ°á»£ng > 1**
- [ ] Táº¡o há»£p Ä‘á»“ng vá»›i sá»‘ lÆ°á»£ng = 3
- [ ] Nháº­p tÃªn 2 thÃ nh viÃªn bá»• sung
- [ ] LÆ°u há»£p Ä‘á»“ng
- [ ] Sá»­a láº¡i há»£p Ä‘á»“ng, Ä‘á»•i sá»‘ lÆ°á»£ng thÃ nh 2
- [ ] **Kiá»ƒm tra:** Chá»‰ cÃ²n 1 field thÃ nh viÃªn bá»• sung
- [ ] LÆ°u láº¡i
- [ ] **Kiá»ƒm tra:** Cá»™t `so_luong` = 2 âœ…
- [ ] **Kiá»ƒm tra:** Cá»™t `thanh_vien` chá»‰ cÃ³ 1 thÃ nh viÃªn âœ…

### **Test 4.4: Sá»­a há»£p Ä‘á»“ng Ä‘á»•i loáº¡i (Há»™i viÃªn â†” PT)**
- [ ] Táº¡o há»£p Ä‘á»“ng Há»™i viÃªn
- [ ] Sá»­a há»£p Ä‘á»“ng, Ä‘á»•i sang PT
- [ ] **Kiá»ƒm tra:** Dropdown thay Ä‘á»•i tá»« "Chá»n há»™i viÃªn" â†’ "Chá»n PT" âœ…
- [ ] **Kiá»ƒm tra:** GÃ³i táº­p cÅ©ng thay Ä‘á»•i theo (chá»‰ hiá»ƒn thá»‹ gÃ³i PT) âœ…
- [ ] LÆ°u láº¡i
- [ ] Má»Ÿ sheet: Kiá»ƒm tra `loai_hop_dong` Ä‘Ã£ Ä‘á»•i âœ…

---

## ğŸ§ª TEST CASE 5: Báº¢O Vá»† Dá»® LIá»†U THANH TOÃN

### **Scenario: Sá»­a há»£p Ä‘á»“ng sau khi Ä‘Ã£ cÃ³ phiáº¿u thu**

**BÆ°á»›c 1: Setup**
- [ ] Táº¡o há»£p Ä‘á»“ng má»›i, tá»•ng thanh toÃ¡n = 5,000,000 VND
- [ ] Táº¡o phiáº¿u thu cho há»£p Ä‘á»“ng nÃ y: Thanh toÃ¡n 2,000,000 VND
- [ ] **Kiá»ƒm tra sheet:** `con_phai_thu` = 3,000,000 âœ…
- [ ] **Kiá»ƒm tra sheet:** `tinh_trang_thanh_toan` = "ÄÃ£ thanh toÃ¡n má»™t pháº§n" âœ…

**BÆ°á»›c 2: Sá»­a há»£p Ä‘á»“ng (khÃ´ng Ä‘á»•i tá»•ng thanh toÃ¡n)**
- [ ] Click sá»­a há»£p Ä‘á»“ng
- [ ] Chá»‰ sá»­a thÃ´ng tin khÃ¡c (email, Ä‘á»‹a chá»‰, tÃ¬nh tráº¡ng)
- [ ] KHÃ”NG thay Ä‘á»•i tá»•ng thanh toÃ¡n
- [ ] LÆ°u láº¡i

**BÆ°á»›c 3: Kiá»ƒm tra dá»¯ liá»‡u thanh toÃ¡n KHÃ”NG Bá»Š Máº¤T**
- [ ] Má»Ÿ sheet `hop_dong`
- [ ] **Kiá»ƒm tra:** `con_phai_thu` váº«n = 3,000,000 âœ… (KHÃ”NG bá»‹ reset)
- [ ] **Kiá»ƒm tra:** `tinh_trang_thanh_toan` váº«n = "ÄÃ£ thanh toÃ¡n má»™t pháº§n" âœ… (KHÃ”NG bá»‹ reset)
- [ ] **Kiá»ƒm tra:** Email, Ä‘á»‹a chá»‰ Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t âœ…

**Káº¿t luáº­n:** Dá»¯ liá»‡u thanh toÃ¡n Ä‘Æ°á»£c Báº¢O Vá»† khi sá»­a há»£p Ä‘á»“ng âœ…

---

## ğŸ§ª TEST CASE 6: KIá»‚M TRA LOGGING VÃ€ AUDIT TRAIL

### **Test 6.1: Xem Apps Script Logs**
- [ ] VÃ o Apps Script Editor
- [ ] Má»Ÿ "Executions" logs
- [ ] Sá»­a má»™t há»£p Ä‘á»“ng
- [ ] **Kiá»ƒm tra logs:** CÃ³ log "updateContract: Starting for row X" âœ…
- [ ] **Kiá»ƒm tra logs:** CÃ³ log "updateContract: Contract updated successfully" âœ…

### **Test 6.2: Xem Audit Trail trong Sheet**
- [ ] Sá»­a 1 há»£p Ä‘á»“ng
- [ ] Má»Ÿ sheet, kiá»ƒm tra:
  - [ ] Cá»™t `nguoi_cap_nhat` = email cá»§a báº¡n âœ…
  - [ ] Cá»™t `thoi_gian_cap_nhat` = thá»i Ä‘iá»ƒm hiá»‡n táº¡i âœ…
- [ ] XÃ³a 1 há»£p Ä‘á»“ng
- [ ] Má»Ÿ sheet, kiá»ƒm tra:
  - [ ] Cá»™t `nguoi_xoa` = email cá»§a báº¡n âœ…
  - [ ] Cá»™t `thoi_gian_xoa` = thá»i Ä‘iá»ƒm hiá»‡n táº¡i âœ…

---

## ğŸ“Š Káº¾T QUáº¢ TEST

### **Tá»•ng quan:**
- **Tá»•ng sá»‘ test case:** 6 chÃ­nh + nhiá»u sub-tests
- **Sá»‘ test Ä‘Ã£ pass:** _____ / _____
- **Sá»‘ test failed:** _____ / _____
- **Bugs phÃ¡t hiá»‡n thÃªm:** _____

### **Báº£ng káº¿t quáº£ chi tiáº¿t:**

| Test Case | Status | Ghi chÃº |
|-----------|--------|---------|
| TC1: Sá»­a há»£p Ä‘á»“ng Há»™i viÃªn | â¬œ Pass / â¬œ Fail |  |
| TC2: Sá»­a há»£p Ä‘á»“ng PT | â¬œ Pass / â¬œ Fail |  |
| TC3: XÃ³a há»£p Ä‘á»“ng | â¬œ Pass / â¬œ Fail |  |
| TC4: Edge cases | â¬œ Pass / â¬œ Fail |  |
| TC5: Báº£o vá»‡ thanh toÃ¡n | â¬œ Pass / â¬œ Fail |  |
| TC6: Logging & Audit | â¬œ Pass / â¬œ Fail |  |

---

## ğŸ› BUG REPORT (Náº¾U CÃ“)

### **Bug #1:**
- **MÃ´ táº£:**
- **BÆ°á»›c tÃ¡i hiá»‡n:**
- **Káº¿t quáº£ mong Ä‘á»£i:**
- **Káº¿t quáº£ thá»±c táº¿:**
- **Má»©c Ä‘á»™ nghiÃªm trá»ng:** Critical / High / Medium / Low

### **Bug #2:**
- **MÃ´ táº£:**
- **BÆ°á»›c tÃ¡i hiá»‡n:**
- **Káº¿t quáº£ mong Ä‘á»£i:**
- **Káº¿t quáº£ thá»±c táº¿:**
- **Má»©c Ä‘á»™ nghiÃªm trá»ng:** Critical / High / Medium / Low

---

## âœ… SIGN-OFF

**NgÆ°á»i test:** _______________________  
**NgÃ y test:** _______________________  
**Káº¿t quáº£:** â¬œ APPROVED / â¬œ REJECTED  

**Ghi chÃº:**
_______________________________________________________
_______________________________________________________
_______________________________________________________

---

**LÆ°u Ã½ quan trá»ng:**
- âœ… Pháº£i test trÃªn mÃ´i trÆ°á»ng production HOáº¶C staging giá»‘ng production
- âœ… NÃªn test vá»›i nhiá»u loáº¡i há»£p Ä‘á»“ng khÃ¡c nhau
- âœ… NÃªn test vá»›i data tháº­t (khÃ´ng pháº£i data test)
- âœ… Sau khi test xong, PHáº¢I kiá»ƒm tra Google Sheet Ä‘á»ƒ cháº¯c cháº¯n data Ä‘Ãºng
- âœ… Náº¿u phÃ¡t hiá»‡n bug, BÃO NGAY cho developer
